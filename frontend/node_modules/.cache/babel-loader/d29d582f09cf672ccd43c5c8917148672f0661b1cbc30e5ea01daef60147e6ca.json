{"ast":null,"code":"var _jsxFileName = \"D:\\\\3_\\u043A\\u0443\\u0440\\u0441\\\\2_\\u0441\\u0435\\u043C\\u0435\\u0441\\u0442\\u0440\\\\\\u043F\\u0440\\u043E\\u0433\\u0440\\u0430\\u043C\\u043C\\u043D\\u0430\\u044F_\\u0438\\u043D\\u0436\\u0435\\u043D\\u0435\\u0440\\u0438\\u044F\\\\lib-serv\\\\src\\\\pages\\\\BookPage\\\\BookPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport BookCover from \"../../components/BookCover/BookCover\";\nimport BookInfo from \"../../components/BookInfo/BookInfo\";\nimport ActionButtons from \"../../components/ActionButtons/ActionButtons\";\nimport \"./BookPage.css\";\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction BookPage() {\n  _s();\n  const [bookTitle, setBookTitle] = useState(\"\"); // Состояние для заголовка\n  const [loading, setLoading] = useState(true); // Состояние загрузки\n  const [error, setError] = useState(null); // Состояние ошибки\n\n  // Загружаем заголовок с бэкенда при монтировании компонента\n  useEffect(() => {\n    const fetchTitle = async () => {\n      try {\n        const response = await axios.get('https://0e1e-178-208-64-74.ngrok-free.app/roles/1');\n        // Предполагаем, что сервер возвращает данные в формате { title: \"...\" }\n        setBookTitle(response.data.title);\n      } catch (err) {\n        console.error(\"Ошибка при загрузке заголовка:\", err);\n        setError(\"Не удалось загрузить заголовок\");\n        setBookTitle(\"Обломов (резервный заголовок)\"); // Резервное значение\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchTitle();\n  }, []);\n\n  // Данные книги (остальные поля пока остаются моковыми)\n  const bookData = {\n    title: bookTitle,\n    // Используем загруженный заголовок или значение по умолчанию\n    author: \"Иван Гончаров\",\n    coverImage: \"/images/book.png\",\n    year: 2023,\n    publish: \"Издательство 'Эксмо'\",\n    isbn: \"978-5-04-193621-1\",\n    pages: 544,\n    description: \"Иван Александрович Гончаров (1812—1891) писал свой лучший роман «Обломов» с длительным перерывом из-за морского путешествия, сначала опубликовал одну главу, которую впоследствии сам раскритиковал и переделал, а потом еще год редактировал текст. Такую же размеренность и неторопливость автор заложил и в образ главного героя...\"\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading\",\n      children: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 12\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"book-page\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"book-main\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"book-but\",\n        children: [/*#__PURE__*/_jsxDEV(BookCover, {\n          image: bookData.coverImage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ActionButtons, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"book-details\",\n        children: /*#__PURE__*/_jsxDEV(BookInfo, {\n          title: bookData.title,\n          author: bookData.author,\n          year: bookData.year,\n          publish: bookData.publish,\n          isbn: bookData.isbn,\n          pages: bookData.pages,\n          description: bookData.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n}\n_s(BookPage, \"r+ymy+PxAOSdMeuFny2j935xwUE=\");\n_c = BookPage;\nexport default BookPage;\nvar _c;\n$RefreshReg$(_c, \"BookPage\");","map":{"version":3,"names":["React","useState","useEffect","BookCover","BookInfo","ActionButtons","axios","jsxDEV","_jsxDEV","BookPage","_s","bookTitle","setBookTitle","loading","setLoading","error","setError","fetchTitle","response","get","data","title","err","console","bookData","author","coverImage","year","publish","isbn","pages","description","className","children","fileName","_jsxFileName","lineNumber","columnNumber","image","_c","$RefreshReg$"],"sources":["D:/3_курс/2_семестр/программная_инженерия/lib-serv/src/pages/BookPage/BookPage.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport BookCover from \"../../components/BookCover/BookCover\";\r\nimport BookInfo from \"../../components/BookInfo/BookInfo\";\r\nimport ActionButtons from \"../../components/ActionButtons/ActionButtons\";\r\nimport \"./BookPage.css\";\r\nimport axios from 'axios';\r\n\r\nfunction BookPage() {\r\n  const [bookTitle, setBookTitle] = useState(\"\"); // Состояние для заголовка\r\n  const [loading, setLoading] = useState(true); // Состояние загрузки\r\n  const [error, setError] = useState(null); // Состояние ошибки\r\n\r\n  // Загружаем заголовок с бэкенда при монтировании компонента\r\n  useEffect(() => {\r\n    const fetchTitle = async () => {\r\n      try {\r\n        const response = await axios.get('https://0e1e-178-208-64-74.ngrok-free.app/roles/1');\r\n        // Предполагаем, что сервер возвращает данные в формате { title: \"...\" }\r\n        setBookTitle(response.data.title);\r\n      } catch (err) {\r\n        console.error(\"Ошибка при загрузке заголовка:\", err);\r\n        setError(\"Не удалось загрузить заголовок\");\r\n        setBookTitle(\"Обломов (резервный заголовок)\"); // Резервное значение\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchTitle();\r\n  }, []);\r\n\r\n  // Данные книги (остальные поля пока остаются моковыми)\r\n  const bookData = {\r\n    title: bookTitle, // Используем загруженный заголовок или значение по умолчанию\r\n    author: \"Иван Гончаров\",\r\n    coverImage: \"/images/book.png\",\r\n    year: 2023,\r\n    publish: \"Издательство 'Эксмо'\",\r\n    isbn: \"978-5-04-193621-1\",\r\n    pages: 544,\r\n    description: \"Иван Александрович Гончаров (1812—1891) писал свой лучший роман «Обломов» с длительным перерывом из-за морского путешествия, сначала опубликовал одну главу, которую впоследствии сам раскритиковал и переделал, а потом еще год редактировал текст. Такую же размеренность и неторопливость автор заложил и в образ главного героя...\"\r\n  };\r\n\r\n  if (loading) {\r\n    return <div className=\"loading\">Загрузка данных...</div>;\r\n  }\r\n\r\n  if (error) {\r\n    return <div className=\"error\">{error}</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"book-page\">\r\n      <div className=\"book-main\">\r\n        <div className=\"book-but\">\r\n          <BookCover image={bookData.coverImage} />\r\n          <ActionButtons />\r\n        </div>\r\n        <div className=\"book-details\">\r\n          <BookInfo \r\n            title={bookData.title}\r\n            author={bookData.author}\r\n            year={bookData.year}\r\n            publish={bookData.publish}\r\n            isbn={bookData.isbn}\r\n            pages={bookData.pages}\r\n            description={bookData.description}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default BookPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}