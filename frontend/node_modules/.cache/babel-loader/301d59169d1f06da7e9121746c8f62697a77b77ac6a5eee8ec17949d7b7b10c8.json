{"ast":null,"code":"import axios from 'axios';\nconst api = axios.create({\n  baseURL: 'https://d527-178-208-64-74.ngrok-free.app',\n  headers: {\n    'Content-Type': 'application/json',\n    'ngrok-skip-browser-warning': 'true'\n  }\n});\n\n// Преобразуем данные бэкенда под фронтенд\napi.interceptors.response.use(response => {\n  if (Array.isArray(response.data)) {\n    return {\n      ...response,\n      data: response.data.map(book => ({\n        id: book.bookId,\n        // Преобразуем bookId → id\n        title: book.title,\n        author: book.author,\n        coverImage: book.coverUrl,\n        // coverUrl → coverImage\n        year: book.publicationYear,\n        publish: book.publisher,\n        isbn: book.isbn,\n        pages: 0,\n        // Нет в API - можно убрать или оставить\n        description: book.description\n      }))\n    };\n  }\n  return response;\n});\nexport default api;","map":{"version":3,"names":["axios","api","create","baseURL","headers","interceptors","response","use","Array","isArray","data","map","book","id","bookId","title","author","coverImage","coverUrl","year","publicationYear","publish","publisher","isbn","pages","description"],"sources":["D:/3_курс/2_семестр/программная_инженерия/lib-serv/src/api/index.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst api = axios.create({\r\n  baseURL: 'https://d527-178-208-64-74.ngrok-free.app',\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n    'ngrok-skip-browser-warning': 'true'\r\n  }\r\n});\r\n\r\n// Преобразуем данные бэкенда под фронтенд\r\napi.interceptors.response.use(response => {\r\n  if (Array.isArray(response.data)) {\r\n    return {\r\n      ...response,\r\n      data: response.data.map(book => ({\r\n        id: book.bookId, // Преобразуем bookId → id\r\n        title: book.title,\r\n        author: book.author,\r\n        coverImage: book.coverUrl, // coverUrl → coverImage\r\n        year: book.publicationYear,\r\n        publish: book.publisher,\r\n        isbn: book.isbn,\r\n        pages: 0, // Нет в API - можно убрать или оставить\r\n        description: book.description\r\n      }))\r\n    };\r\n  }\r\n  return response;\r\n});\r\n\r\nexport default api;"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,GAAG,GAAGD,KAAK,CAACE,MAAM,CAAC;EACvBC,OAAO,EAAE,2CAA2C;EACpDC,OAAO,EAAE;IACP,cAAc,EAAE,kBAAkB;IAClC,4BAA4B,EAAE;EAChC;AACF,CAAC,CAAC;;AAEF;AACAH,GAAG,CAACI,YAAY,CAACC,QAAQ,CAACC,GAAG,CAACD,QAAQ,IAAI;EACxC,IAAIE,KAAK,CAACC,OAAO,CAACH,QAAQ,CAACI,IAAI,CAAC,EAAE;IAChC,OAAO;MACL,GAAGJ,QAAQ;MACXI,IAAI,EAAEJ,QAAQ,CAACI,IAAI,CAACC,GAAG,CAACC,IAAI,KAAK;QAC/BC,EAAE,EAAED,IAAI,CAACE,MAAM;QAAE;QACjBC,KAAK,EAAEH,IAAI,CAACG,KAAK;QACjBC,MAAM,EAAEJ,IAAI,CAACI,MAAM;QACnBC,UAAU,EAAEL,IAAI,CAACM,QAAQ;QAAE;QAC3BC,IAAI,EAAEP,IAAI,CAACQ,eAAe;QAC1BC,OAAO,EAAET,IAAI,CAACU,SAAS;QACvBC,IAAI,EAAEX,IAAI,CAACW,IAAI;QACfC,KAAK,EAAE,CAAC;QAAE;QACVC,WAAW,EAAEb,IAAI,CAACa;MACpB,CAAC,CAAC;IACJ,CAAC;EACH;EACA,OAAOnB,QAAQ;AACjB,CAAC,CAAC;AAEF,eAAeL,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}